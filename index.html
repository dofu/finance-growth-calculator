<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üí∞ WealthGrow - Smart Investment Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1><span class="build-text">Build Your</span> <span class="gradient-text">Wealth</span></h1>
      <p>Create realistic wealth projections using customizable investment portfolios and EPF tracking. Adjust return rates for different investment types to match your actual strategy and risk tolerance.</p>
    </div>
  </section>

  <!-- Instructions Section -->
  <section class="instructions-banner">
    <div class="instructions-content">
      <div class="instructions-header" onclick="toggleInstructions()">
        <h3>How It Works</h3>
        <button class="toggle-btn" id="toggleBtn">
          <span class="toggle-icon">‚àí</span>
        </button>
      </div>
      <div class="instruction-steps" id="instructionSteps">
        <div class="step-item">
          <div class="step-icon">üí∞</div>
          <div class="step-content">
            <h4>Set Investment Amount</h4>
            <p>Enter monthly contributions and optional initial lump sum</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-icon">üìä</div>
          <div class="step-content">
            <h4>Choose Investment Strategy</h4>
            <p>Use simple returns or customize portfolio mix with specific allocations</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-icon">üè¶</div>
          <div class="step-content">
            <h4>Include EPF (Optional)</h4>
            <p>Add salary to track mandatory EPF alongside personal investments</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-icon">üéØ</div>
          <div class="step-content">
            <h4>View Wealth Projection</h4>
            <p>See complete breakdown: investments, EPF, and realistic growth milestones</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Calculator -->
  <section class="calculator-section">
    <div class="calculator-card">
      <!-- Dashboard Header -->
      <div class="dashboard-header">
        <h2 class="dashboard-title">Investment Calculator</h2>
        <p class="dashboard-subtitle">See your wealth grow with smart investing</p>
      </div>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Left Panel - Quick Setup -->
        <div class="quick-setup-panel">
          <div class="setup-card">
            <h3 class="setup-title">Quick Setup</h3>
            
            <!-- Monthly Investment -->
            <div class="quick-input-group">
              <label class="quick-label">Monthly Investment</label>
              <div class="quick-input-wrapper">
                <span class="currency-prefix">RM</span>
                <input type="text" class="quick-input" id="quickMonthlyInput" value="1,000" onchange="updateFromQuickInput('monthly')" oninput="formatQuickInput('monthly')" placeholder="1,000">
              </div>
            </div>

            <!-- Investment Period -->
            <div class="quick-input-group">
              <label class="quick-label">Investment Period</label>
              <div class="quick-slider-wrapper">
                <input type="range" class="quick-slider" id="quickYearsSlider" min="1" max="40" step="1" value="20" onchange="updateQuickSlider()">
                <div class="quick-slider-value" id="quickYearsValue">20 Years</div>
              </div>
            </div>

            <!-- Expected Returns -->
            <div class="quick-input-group">
              <label class="quick-label">Expected Returns</label>
              <div class="quick-slider-wrapper">
                <input type="range" class="quick-slider" id="quickReturnSlider" min="1" max="15" step="0.1" value="7" onchange="updateQuickSlider()">
                <div class="quick-slider-value" id="quickReturnValue">7.0%</div>
              </div>
            </div>

            <button class="quick-calculate-btn" onclick="calculate()">
              Calculate My Wealth
            </button>
          </div>

          <!-- Advanced Options Card -->
          <div class="advanced-card">
            <h4 class="advanced-title">Advanced Options</h4>
            
            <div class="advanced-option">
              <label class="option-label">
                <input type="checkbox" id="advancedMixToggle" onchange="toggleAdvancedMix()">
                <span class="option-text">Investment Mix</span>
                <span class="option-desc">Customize portfolio allocation</span>
              </label>
            </div>

            <div class="advanced-option">
              <label class="option-label">
                <input type="checkbox" id="advancedEpfToggle" onchange="toggleAdvancedEpf()" checked>
                <span class="option-text">Include EPF</span>
                <span class="option-desc">Track EPF with investments</span>
              </label>
            </div>

            <div class="advanced-option">
              <label class="option-label">
                <input type="checkbox" id="advancedAgeToggle" onchange="toggleAdvancedAge()">
                <span class="option-text">Set Age</span>
                <span class="option-desc">Track milestones by age</span>
              </label>
            </div>

            <!-- Advanced Controls (Hidden by default) -->
            <div id="advancedControls" class="advanced-controls hidden">
              <!-- Quick EPF Setup -->
              <div id="quickEpfSetup" class="quick-epf-setup">
                <div class="quick-input-group compact">
                  <label class="quick-label">Monthly Salary</label>
                  <div class="quick-input-wrapper">
                    <span class="currency-prefix">RM</span>
                    <input type="text" class="quick-input small" id="quickSalaryInput" value="5,000" onchange="updateFromQuickInput('salary')" oninput="formatQuickInput('salary')">
                  </div>
                </div>
              </div>

              <!-- Quick Age Setup -->
              <div id="quickAgeSetup" class="quick-age-setup hidden">
                <div class="quick-input-group compact">
                  <label class="quick-label">Current Age</label>
                  <div class="quick-input-wrapper">
                    <input type="number" class="quick-input small" id="quickAgeInput" value="" onchange="updateFromQuickInput('age')" placeholder="25" min="18" max="80">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Panel - Results Preview -->
        <div class="results-preview-panel">
          <div class="preview-card">
            <div id="previewBlankState" class="preview-blank-state">
              <div class="preview-icon">üí∞</div>
              <h3>Ready to Calculate?</h3>
              <p>Enter your investment details and see your wealth projection instantly.</p>
            </div>

            <div id="previewResults" class="preview-results hidden">
              <div class="preview-main">
                <div class="preview-amount" id="previewFinalAmount">RM 524,000</div>
                <div class="preview-label">Final Wealth</div>
                <div class="preview-period" id="previewPeriodText">after 20 years</div>
              </div>

              <div class="preview-breakdown">
                <div class="preview-item">
                  <span class="preview-item-label">Total Invested:</span>
                  <span class="preview-item-amount" id="previewInvested">RM 240,000</span>
                </div>
                <div class="preview-item">
                  <span class="preview-item-label">Interest Earned:</span>
                  <span class="preview-item-amount" id="previewInterest">RM 284,000</span>
                </div>
              </div>

              <button class="view-details-btn" onclick="toggleDetailedView()">
                <span id="detailsBtnText">View Detailed Breakdown</span>
                <span class="btn-arrow">‚Üí</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Results (Expandable) -->
      <div id="detailedResults" class="detailed-results hidden">
        <!-- Investment Mix Controls (if enabled) -->
        <div id="dashboardMixSection" class="dashboard-mix-section hidden">
          <div class="mix-dashboard-card">
            <div class="mix-header">
              <h4>Portfolio Allocation</h4>
              <div class="blended-return">
                <span class="blended-label">Blended Return:</span>
                <span class="blended-rate" id="dashboardBlendedRate">7.0%</span>
              </div>
            </div>
            
            <div class="mix-grid">
              <!-- ETFs -->
              <div class="mix-dashboard-item">
                <div class="mix-checkbox">
                  <input type="checkbox" id="dashboardEtfEnabled" checked onchange="toggleDashboardInvestmentType('etf')">
                  <label for="dashboardEtfEnabled" class="dashboard-investment-label">
                    <span class="mix-name">ETFs</span>
                    <span class="mix-description">Index funds, sector ETFs</span>
                  </label>
                </div>
                <div class="mix-config" id="dashboardEtfConfig">
                  <div class="mix-return-control">
                    <input type="range" class="return-slider" id="dashboardEtfReturnSlider" min="3" max="12" step="0.1" value="7.0" onchange="updateDashboardMixReturn('etf')">
                    <span class="mix-return-rate" id="dashboardEtfReturnRate">7.0%</span>
                  </div>
                  <div class="mix-allocation">
                    <input type="range" class="mix-slider" id="dashboardEtfSlider" min="0" max="100" step="5" value="40" onchange="updateDashboardMix()">
                    <span class="mix-percentage" id="dashboardEtfPercentage">40%</span>
                  </div>
                </div>
              </div>

              <!-- Unit Trusts -->
              <div class="mix-dashboard-item">
                <div class="mix-checkbox">
                  <input type="checkbox" id="dashboardUnitTrustEnabled" checked onchange="toggleDashboardInvestmentType('unitTrust')">
                  <label for="dashboardUnitTrustEnabled" class="dashboard-investment-label">
                    <span class="mix-name">Unit Trusts</span>
                    <span class="mix-description">Equity, bond, balanced funds</span>
                  </label>
                </div>
                <div class="mix-config" id="dashboardUnitTrustConfig">
                  <div class="mix-return-control">
                    <input type="range" class="return-slider" id="dashboardUnitTrustReturnSlider" min="2" max="15" step="0.1" value="6.0" onchange="updateDashboardMixReturn('unitTrust')">
                    <span class="mix-return-rate" id="dashboardUnitTrustReturnRate">6.0%</span>
                  </div>
                  <div class="mix-allocation">
                    <input type="range" class="mix-slider" id="dashboardUnitTrustSlider" min="0" max="100" step="5" value="30" onchange="updateDashboardMix()">
                    <span class="mix-percentage" id="dashboardUnitTrustPercentage">30%</span>
                  </div>
                </div>
              </div>

              <!-- Fixed Deposit -->
              <div class="mix-dashboard-item">
                <div class="mix-checkbox">
                  <input type="checkbox" id="dashboardFdEnabled" checked onchange="toggleDashboardInvestmentType('fd')">
                  <label for="dashboardFdEnabled" class="dashboard-investment-label">
                    <span class="mix-name">Fixed Deposit</span>
                    <span class="mix-description">Bank FDs, money market</span>
                  </label>
                </div>
                <div class="mix-config" id="dashboardFdConfig">
                  <div class="mix-return-control">
                    <input type="range" class="return-slider" id="dashboardFdReturnSlider" min="2" max="5" step="0.1" value="3.5" onchange="updateDashboardMixReturn('fd')">
                    <span class="mix-return-rate" id="dashboardFdReturnRate">3.5%</span>
                  </div>
                  <div class="mix-allocation">
                    <input type="range" class="mix-slider" id="dashboardFdSlider" min="0" max="100" step="5" value="20" onchange="updateDashboardMix()">
                    <span class="mix-percentage" id="dashboardFdPercentage">20%</span>
                  </div>
                </div>
              </div>

              <!-- Individual Stocks -->
              <div class="mix-dashboard-item">
                <div class="mix-checkbox">
                  <input type="checkbox" id="dashboardStocksEnabled" checked onchange="toggleDashboardInvestmentType('stocks')">
                  <label for="dashboardStocksEnabled" class="dashboard-investment-label">
                    <span class="mix-name">Individual Stocks</span>
                    <span class="mix-description">Blue chips, growth stocks</span>
                  </label>
                </div>
                <div class="mix-config" id="dashboardStocksConfig">
                  <div class="mix-return-control">
                    <input type="range" class="return-slider" id="dashboardStocksReturnSlider" min="-5" max="20" step="0.1" value="10.0" onchange="updateDashboardMixReturn('stocks')">
                    <span class="mix-return-rate" id="dashboardStocksReturnRate">10.0%</span>
                  </div>
                  <div class="mix-allocation">
                    <input type="range" class="mix-slider" id="dashboardStocksSlider" min="0" max="100" step="5" value="10" onchange="updateDashboardMix()">
                    <span class="mix-percentage" id="dashboardStocksPercentage">10%</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="mix-total">
              <span class="total-label">Total Allocation:</span>
              <span class="total-percentage" id="dashboardTotalPercentage">100%</span>
              <span class="allocation-status" id="dashboardAllocationStatus">‚úì Balanced</span>
            </div>
          </div>
        </div>

        <!-- Chart and Progress Section -->
        <div class="detailed-content">
          <!-- Chart with Loading State -->
          <div class="chart-container">
            <div id="detailedLoadingStateChart" class="loading" style="display: none;">
              <div class="spinner"></div>
              <p>Calculating your financial future...</p>
            </div>
            <canvas id="detailedWealthChart" style="display: none;"></canvas>
          </div>

          <!-- Equation Layout -->
          <div class="wealth-equation fade-in">
            <div class="equation-box invested">
              <div class="equation-amount" id="detailedTotalContributed">RM 0</div>
              <div class="equation-label">Total Invested</div>
            </div>
            
            <div class="equation-operator">+</div>
            
            <div class="equation-box interest">
              <div class="equation-amount" id="detailedTotalInterest">RM 0</div>
              <div class="equation-label">Interest Earned</div>
            </div>
            
            <div class="equation-operator equals">=</div>
            
            <div class="equation-box final">
              <div class="equation-amount" id="detailedFinalAmount">RM 0</div>
              <div class="equation-label">Final Wealth</div>
            </div>
          </div>

          <!-- Progress Milestones -->
          <div class="progress-section">
            <h3>Your Wealth Journey</h3>
            <div id="detailedProgressContainer">
              <div class="progress-item">
                <div class="progress-info">
                  <div class="progress-year">Year 5</div>
                  <span>First milestone</span>
                </div>
                <div class="progress-amount">RM 0</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section></div>
      </div>
    </div>
  </section>

  <!-- Simple Instructions -->
  <div class="simple-instructions" style="display: none;">
    <p>Set your monthly investment amount, expected annual returns, and investment timeline. Optionally include your salary to track EPF contributions alongside your voluntary investments. The calculator shows your complete wealth projection with detailed breakdowns of investment growth, EPF accumulation, and milestone achievements over time.</p>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>Vibed by Shin 2025</p>
    </div>
  </footer>

  <script src="assets/js/calculator.js"></script>
</body>
</html>